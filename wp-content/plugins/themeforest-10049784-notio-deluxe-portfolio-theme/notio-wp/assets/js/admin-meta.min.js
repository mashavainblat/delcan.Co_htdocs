jQuery(document).ready(function(a){function b(c){a.ajax({method:"POST",url:ocdi.ajax_url,data:c,contentType:!1,processData:!1}).done(function(a){if(void 0!==a.status&&"newAJAX"===a.status)b(c);else if(void 0!==a.status&&"afterAllImportAJAX"===a.status){var d=new FormData;d.append("action","ocdi_after_import_data"),d.append("security",ocdi.ajax_nonce),b(d)}else location.reload()})}a(".thb-register:not(.disabled)").on("click",function(b){var c=a(this),d=a("#thb_product_key").val();return a.ajax({method:"GET",url:c.data("verify"),data:{product_key:d,domain:c.data("domain")},beforeSend:function(){c.addClass("disabled")},error:function(b){if(c.removeClass("disabled"),b){var d=a.parseJSON(b.responseText);d.error_message&&a("#thb_error_messages").html("<p>"+d.error_message+"</p>")}},success:function(b){a.ajax(ajaxurl,{method:"POST",data:{action:"thb_update_options",key:d,expired:0},success:function(){location.reload()}})}}),!1}),a(".thb-delete-key").on("click",function(b){a(this);return a.ajax(ajaxurl,{method:"POST",data:{action:"thb_update_options",key:"",expired:0},success:function(){location.reload()}}),!1});var c=new FormData;c.append("action","ocdi_import_demo_data"),c.append("security",ocdi.ajax_nonce),a(".thb-load-demo:not(.disabled)").on("click",function(d){var e=a(this),f=e.parents(".theme"),g=e.data("demo");f.addClass("loading"),a(".thb-load-demo").addClass("disabled").attr("disabled","disabled").unbind("click"),c.append("selected",g),b(c),d.preventDefault()})});